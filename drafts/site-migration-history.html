<!doctype html><html lang=en><title>Site Migration History - Terminal In A Simputer Archives</title><meta charset=utf-8><link rel=canonical href=https://archives.snorl.ax/drafts/site-migration-history.html><link href=https://archives.snorl.ax/theme/css/all.css rel=stylesheet><link rel=dns-prefetch href=https://fonts.googleapis.com><link rel=dns-prefetch href=https://fonts.gstatic.com><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Luckiest+Guy|Rajdhani:600|Rajdhani:700&amp;display=swap"><link href=https://archives.snorl.ax/theme/images/icon.png rel=icon><link href=https://archives.snorl.ax/theme/images/icon-apple.png rel=apple-touch-icon-precomposed><link href=https://archives.snorl.ax/feeds/all.xml rel=alternate title="Simputer Archives RSS Feed" type=application/rss+xml><meta content=KeyCDN name=tags><meta content=Gitlab name=tags><meta content=Github name=tags><meta content=Netlify name=tags><meta content=speed name=tags><meta content=CloudFlare name=tags><meta content=Firebase name=tags><meta content=CDN name=tags><meta content="width=device-width" name=viewport><meta name=twitter:card content=summary><meta name=twitter:image content=https://archives.snorl.ax/theme/images/usual-twitter.png><meta name=twitter:site content=@Snorl_ax><meta name=twitter:title content="Site Migration History"><meta name=twitter:description content="KeyCDN → Gitlab → Github + CloudFlare → Gitlab + Netlify → Github + Cloudflare → Firebase → Cloudflare+Firebase → Cloudflare+Gitlab → Github + Cloudflare → Firebase → My VPS + CloudFlare → My VPS"><div id=a><header id=c><div id=d><h1 id=e><a href=https://archives.snorl.ax/>Simputer Archives</a></h1></div></header><div id=f><nav id=h><ul><li><a href=https://archives.snorl.ax/>Home</a><li><a href=https://archives.snorl.ax/browser/>Browser</a><li id=i><a href=https://archives.snorl.ax/terminal/>Terminal</a><li><a href=https://archives.snorl.ax/tags/>Tags</a></ul></nav><nav id=r><a href=https://www.youtube.com/channel/UCnqOLMtPJaqa7e_6FhZ8-rw title=Youtube><svg id="youtube"/></a><a href=https://github.com/SnorlaxYum/ title=Github><svg id="github"/></a><a href=https://twitter.com/Snorl_ax title=Twitter><svg id="twitter"/></a><a href=https://archives.snorl.ax/feeds/all.xml title=RSS><svg id="rss"/></a><a href=mailto:sim@snorl.ax title=Email><svg id="mail"/></a></nav><aside id=j><form action=https://archives.snorl.ax/search.html onsubmit="return validateForm(this.elements['q'].value);"><input placeholder=Search... name=q id=tipue_search_input></form></aside></div></div><div id=b><main id=k><article id=m><header id=o><h2 id=p>Site Migration History</h2></header><div id=n><h2 id=toctable>Table Of Contents</h2><div class=toc><ul><li><a href=#summary>Summary</a><li><a href=#2016-12-08-from-keycdn-to-gitlab>2016-12-08: From KeyCDN To Gitlab</a><li><a href=#2016-12-30-moved-to-github>2016-12-30: Moved To Github</a><li><a href=#2018-01-12-stick-with-github>2018-01-12: Stick With Github</a><li><a href=#2018-01-14-moved-to-firebase>2018-01-14: Moved To Firebase</a><li><a href=#2018-01-15-2019-05-06-my-time-with-github-pages>2018-01-15 ~ 2019-05-06: My Time With Github Pages</a><li><a href=#2019-05-06-2019-06-06-back-to-firebase>2019-05-06 ~ 2019-06-06: Back To Firebase</a><li><a href=#2019-06-06-2019-06-10-back-to-vps-cloudflare>2019-06-06 ~ 2019-06-10: Back To VPS + CloudFlare</a><li><a href=#2019-06-10-now-my-vps>2019-06-10 ~ Now: My VPS</a></ul></div><h2 id=summary><a class=toclink href=#summary>Summary</a></h2><p>The site is hosted on my own VPS now.<br>Judging from my experience, my rank of my used hosting of static sites:<ol><li>Firebase Hosting<li>Github Pages<li>Gitlab Pages / Netlify<li>KeyCDN</ol><p>Firebase is the champion 'cause its speed is on par with GitHub Pages (Both are using Fastly CDN) and it's really customizable when it comes to things like 301 redirection and caching. BTW, Firebase Hosting also supports dynamic content through Cloud Functions and Cloud Run. As for shortcomings, the SSL cert issued by them have multiple domains from various customers. (I asked the support and they told me I can move to the clean cert with only my domains for free if I switch to Blaze plan which is their pay-as-you-go plan. So I am now on the clean cert several days after I made the switch. Their free usage is like overkill for this site so not a bad deal).<br>Github Pages is second to Gitlab Pages due to the shortage of customizability in things like 301, caching and dynamic contents. However the cert of Github Pages is clean with only my own domain there.<br>The rest of them are not the fastest. Gitlab Pages supports my own certs. Netlify is feature-rich and the bandwidth limit is 100GB for free. KeyCDN's speed is just poor.<p>My current choice is excluded from the list, 'cause VPS itself does much more than all of them and not in the same category.<h2 id=2016-12-08-from-keycdn-to-gitlab><a class=toclink href=#2016-12-08-from-keycdn-to-gitlab>2016-12-08: From KeyCDN To Gitlab</a></h2><p>Well the site had been hosted on KeyCDN for about weeks before I couldn't bear the waiting time for even a minor file.<br>See the result below:<br><a href=https://archives.snorl.ax/img/keycdn1.png title="Wait that long?"><img src=https://archives.snorl.ax/img/keycdn1-150x150.png height=150 width=150></a><a href=https://archives.snorl.ax/img/keycdn2.png title="Wait that long?"><img src=https://archives.snorl.ax/img/keycdn2-150x150.png height=150 width=150></a><a href=https://archives.snorl.ax/img/keycdn3.png title="Wait that long?"><img src=https://archives.snorl.ax/img/keycdn3-150x150.png height=150 width=150></a><p>That lagging time is not worth the money, I decided to try on Gitlab cause there's no need to spend much on other CDNs, whose SSL support is SNI and SAN support is rather expensive.<p>After a while of cloning and pushing and assign SSL, I ran the tests below:<br><a href=https://archives.snorl.ax/img/gitlab1.png title="Much better now!"><img src=https://archives.snorl.ax/img/gitlab1-150x150.png height=150 width=150></a><a href=https://archives.snorl.ax/img/gitlab2.png title="Much better now!"><img src=https://archives.snorl.ax/img/gitlab2-150x150.png height=150 width=150></a><a href=https://archives.snorl.ax/img/gitlab3.png title="Despite the lagging Chinese spot, it's only 0.1 sec lower on avg time. And it defeats KeyCDN almost every spot, meaning KeyCDN sucks."><img src=https://archives.snorl.ax/img/gitlab3-150x150.png height=150 width=150></a><p>It's really a waste of money when it comes to KeyCDN, while Gitlab is an amazing choice, though the SSL things need manually updating on Gitlab.<p>Goodbye KeyCDN! Hello Gitlab!<p>I've just been using Gitlab for a while and begin to love it! All I need to do is write and update and the rest procedures r automatically done by the runner!<p>To make things better, I just used CloudFlare's CDN for it, the speed has improved dramatically, which is well worth the loss of the old browser users, meaning I am finally back to CloudFlare CDN!<p><a href=https://archives.snorl.ax/img/cloudflare1.png title="CloudFlare is AMAZING!"><img src=https://archives.snorl.ax/img/cloudflare1-150x150.png height=150 width=150></a><a href=https://archives.snorl.ax/img/cloudflare2.png title="CloudFlare is AMAZING!"><img src=https://archives.snorl.ax/img/cloudflare2-150x150.png height=150 width=150></a><a href=https://archives.snorl.ax/img/cloudflare3.png title="CloudFlare is AMAZING!"><img src=https://archives.snorl.ax/img/cloudflare3-150x150.png height=150 width=150></a><h2 id=2016-12-30-moved-to-github><a class=toclink href=#2016-12-30-moved-to-github>2016-12-30: Moved To Github</a></h2><p>Just made some tests between Gitlab Pages and Github Pages about the speed. They were both sped up with Cloudflare. No need in uploading those things, 'cause it's basically about data.<p>On the same image 33 kb, in Stockholm Github pages performed better with the time of 450 ms while Gitlab spent 995 ms, in Melbourne Github did it again with 497 ms while Gitlab spent 1.54 s. Globally, Github is faster.<p>Just moved to Github.<h2 id=2018-01-12-stick-with-github><a class=toclink href=#2018-01-12-stick-with-github>2018-01-12: Stick With Github</a></h2><p>To migrate from a server to another, I have to restore my backup. Then today I tried Gitlab to backup and restore. Everything worked like a charm fastly and conveniently with a <strong>free gitlab private</strong> (which I hadn't really care about when switching from Gitlab Pages to Github pages) repository in which there exists several branches. Then I realized how long I hadn't used Github since the last time. Also, with Netlify, the cert will look much more decent and be auto-renewed. So I just migrated the blog to Gitlab. After speedtest, I finally couldn't stand the speed loss again. 184.8kB in 2s or so almost everywhere. Is a Netlify page really using CDN? For the speed, I moved the blog back to Github PAGES + Cloudflare again.<h2 id=2018-01-14-moved-to-firebase><a class=toclink href=#2018-01-14-moved-to-firebase>2018-01-14: Moved To Firebase</a></h2><p>Moved to Google Firebase. It's not as fast as Github pages + Cloudflare, but the SSL time beats the CF. I can have enough privacy with my files.<h2 id=2018-01-15-2019-05-06-my-time-with-github-pages><a class=toclink href=#2018-01-15-2019-05-06-my-time-with-github-pages>2018-01-15 ~ 2019-05-06: My Time With Github Pages</a></h2><p><strong>2018-01-15:</strong> No way. It's a shared cert on Firebase. After the comparation below, I decided to move back to Gitlab+Cloudflare, 'cause I know I value more about privacy now. Gitlab+CloudFlare has an okay speed for larger files.<p>Repeated Views Load Time Of a 220.7 kB image (With CloudFlare CDN):<table><thead><tr><th>Area<th>Gitlab<th>Firebase<tbody><tr><td>San Jose<td>300ms<td>49ms<tr><td>New York<td>374ms<td>173ms<tr><td>Melbourne<td>64ms<td>52ms<tr><td>Stockholm<td>115ms<td>34ms</table><p>More about Gitlab+CF:<table><thead><tr><th>Area<th>DNS<th>SSL<th>Connect<th>Send<th>Wait<th>Receive<th>Total<tbody><tr><td>San Jose<td>2ms<td>22ms<td>23ms<td>1ms<td>268ms<td>6ms<td>322ms<tr><td>New York<td>0ms<td>79ms<td>114ms<td>1ms<td>105ms<td>150ms<td>451ms<tr><td>Melbourne<td>0ms<td>18ms<td>19ms<td>0ms<td>25ms<td>19ms<td>81ms<tr><td>Stockholm<td>0ms<td>18ms<td>19ms<td>0ms<td>88ms<td>7ms<td>132ms</table><p>More about Firebase+CF:<table><thead><tr><th>Area<th>DNS<th>SSL<th>Connect<th>Send<th>Wait<th>Receive<th>Total<tbody><tr><td>San Jose<td>2ms<td>34ms<td>34ms<td>0ms<td>6ms<td>6ms<td>49ms<tr><td>New York<td>0ms<td>58ms<td>77ms<td>1ms<td>22ms<td>72ms<td>230ms<tr><td>Melbourne<td>0ms<td>20ms<td>21ms<td>0ms<td>9ms<td>19ms<td>69ms<tr><td>Stockholm<td>0ms<td>17ms<td>18ms<td>0ms<td>9ms<td>6ms<td>50ms</table><p>About first-time view? The difference is larger. For instance, in Australia, Gitlab is 1.2s and Firebase is 58ms.<p>Also, just made a comparation between Gitlab, Github and Firebase on larger files:<p>The First of Repeated Views Load Time Of a 4.8MB image (With Cloudflare CDN):<table><thead><tr><th>Area<th>Github<th>Firebase<th>Gitlab<tbody><tr><td>San Jose<td>342ms<td>1.27s<td>839ms<tr><td>New York<td>659ms<td>1.17s<td>677ms<tr><td>Melbourne<td>2.36s<td>3.85s<td>2.87s<tr><td>Stockholm<td>3.80s<td>1.25s<td>1.46s</table><p>Github+CF:<table><thead><tr><th>Area<th>DNS<th>SSL<th>Connect<th>Send<th>Wait<th>Receive<th>Total<tbody><tr><td>San Jose<td>2ms<td>24ms<td>25ms<td>0ms<td>247ms<td>68ms<td>366ms<tr><td>New York<td>2ms<td>47ms<td>49ms<td>1ms<td>146ms<td>459ms<td>705ms<tr><td>Melbourne<td>2ms<td>19ms<td>19ms<td>0ms<td>1.90s<td>440ms<td>2.38s<tr><td>Stockholm<td>2ms<td>19ms<td>20ms<td>0ms<td>3.71s<td>68ms<td>3.81s</table><p>Firebase+CF:<table><thead><tr><th>Area<th>DNS<th>SSL<th>Connect<th>Send<th>Wait<th>Receive<th>Total<tbody><tr><td>San Jose<td>2ms<td>30ms<td>30ms<td>0ms<td>866ms<td>373ms<td>1.30s<tr><td>New York<td>3ms<td>61ms<td>63ms<td>1ms<td>634ms<td>468ms<td>1.23s<tr><td>Melbourne<td>2ms<td>18ms<td>19ms<td>0ms<td>3.37s<td>455ms<td>3.87s<tr><td>Stockholm<td>2ms<td>17ms<td>18ms<td>0ms<td>1.15s<td>74ms<td>1.26s</table><p>Gitlab+CF:<table><thead><tr><th>Area<th>DNS<th>SSL<th>Connect<th>Send<th>Wait<th>Receive<th>Total<tbody><tr><td>San Jose<td>0ms<td>30ms<td>31ms<td>0ms<td>321ms<td>486ms<td>868ms<tr><td>New York<td>0ms<td>39ms<td>41ms<td>0ms<td>112ms<td>523ms<td>715ms<tr><td>Melbourne<td>0ms<td>23ms<td>24ms<td>0ms<td>1.04s<td>1.80s<td>2.89s<tr><td>Stockholm<td>0ms<td>21ms<td>21ms<td>0ms<td>577ms<td>862ms<td>1.48s</table><p><strong>2018-01-20:</strong> All the static assets on the site will be using the original CDN on the github.io domain.<p><strong>2018-01-21:</strong> After testing and pondering, the assets of my blog, hosted on Github are now sped up by Cloudflare.<p><strong>2018-05-01:</strong> <a href=https://blog.github.com/2018-05-01-github-pages-custom-domains-https/ target=_blank>The News: Custom domains on GitHub Pages gain support for HTTPS</a>, now the blog's cert is automatically generated by Github. Even better!<h2 id=2019-05-06-2019-06-06-back-to-firebase><a class=toclink href=#2019-05-06-2019-06-06-back-to-firebase>2019-05-06 ~ 2019-06-06: Back To Firebase</a></h2><p><strong>2019-05-06:</strong> I switched back to Firebase. There I could have control over caching, redirects, etc. No longer rely on soft link. I'm now directly using Firebase.<p>Just made a speed test on GTMetrix about the isso loading speed on <a href=https://archives.snorl.ax/drafts/running-email-service-on-my-own-server.html>the article</a>:<table><thead><tr><th>Area<th>With CloudFlare<th>Bare speed<tbody><tr><td>Canada<td>1641.6ms<td>1322ms<tr><td>USA<td>1351.1ms<td>1074.3ms<tr><td>UK<td>430.5ms<td>260.6ms<tr><td>Brazil<td>2.72s<td>1.75s<tr><td>Australia<td>2.92s<td>1.998s<tr><td>China<td>3.12s<td>1.83s<tr><td>India<td>1.49s<td>1.25s</table><p>Not faster at all. So I'll just stop CF it and make it run barely.<p><strong>2019-05-07:</strong> I ran a test between Firebase and bare nginx about the static file loading speed on <a href=https://archives.snorl.ax/drafts/running-email-service-on-my-own-server.html>the article</a>:<table><thead><tr><th>Area<th>With Firebase<th>Bare speed<th>With Github<tbody><tr><td>Canada<td>293ms<td>1.4s<td>0.6s<tr><td>USA<td>0.8s<td>1.0s<td>308ms<tr><td>UK<td>0.6s<td>1.0s<td>356ms<tr><td>Brazil<td>1.2s<td>1.7s<td>0.8s<tr><td>Australia<td>419ms<td>2.2s<td>0.5s<tr><td>China<td>0.9s<td>1.9s<td>0.8s<tr><td>India<td>0.6s<td>1.3s<td>1.2s</table><p>This time Firebase outspeed the bare speed everywhere. Right choice on Firebase about static site. I put Github on the right on purpose. Seems like nowadays GIthub pages and Firebase are almost on par when it comes to speed. To me, it's a right choice to switch to Firebase.<p>Just did a lookup about github pages' and Firebase's IP, they are both using Fastly. No wonder the performances are similar. The tests past were totally wrong 'cause I didn't take a look and check which time belonged to the CDN and they are generally affected by CF layer.<p><strong>2019-05-27:</strong> Reused CloudFlare on isso for security purpose.<h2 id=2019-06-06-2019-06-10-back-to-vps-cloudflare><a class=toclink href=#2019-06-06-2019-06-10-back-to-vps-cloudflare>2019-06-06 ~ 2019-06-10: Back To VPS + CloudFlare</a></h2><p>Firebase ssl needs checking in every month, which is awful. Also, learning FLask recently, I want to tango with Nginx and CloudFlare. The contents will load fast if cached on CF's server. Otherwise meh...... But Cf is a security company. I use it for security purpose.<h2 id=2019-06-10-now-my-vps><a class=toclink href=#2019-06-10-now-my-vps>2019-06-10 ~ Now: My VPS</a></h2><p>This site is now served by two servers without Cloudflare as a frontend. (As I found out that Cloudflare CDN generally slows down the site speed). Here's <a href=https://archives.snorl.ax/drafts/performance-test-on-a-page-cloudflare-vs-bare-nginx.html>the relevant results</a>.</div><footer id=q><svg id="publish"/><b>Created:&nbsp;</b><time datetime=2016-12-08T01:40:00+01:00>December 08, 2016</time><span id=y>•</span><svg id="edit"/><b>Updated:&nbsp;</b><time datetime=2019-06-10T12:51:00+02:00>June 10, 2019</time><span id=y>•</span><svg id="session"/></svg>In a <a href=https://archives.snorl.ax/terminal/ rel="category tag"><b>Terminal</b></a> Session<span id=y>•</span><svg id="tags"/><b>Tags:&nbsp;</b><a href=https://archives.snorl.ax/tags/keycdn/ rel=tag>KeyCDN</a>,&nbsp;<a href=https://archives.snorl.ax/tags/gitlab/ rel=tag>Gitlab</a>,&nbsp;<a href=https://archives.snorl.ax/tags/github/ rel=tag>Github</a>,&nbsp;<a href=https://archives.snorl.ax/tags/netlify/ rel=tag>Netlify</a>,&nbsp;<a href=https://archives.snorl.ax/tags/speed/ rel=tag>speed</a>,&nbsp;<a href=https://archives.snorl.ax/tags/cloudflare/ rel=tag>CloudFlare</a>,&nbsp;<a href=https://archives.snorl.ax/tags/firebase/ rel=tag>Firebase</a>,&nbsp;<a href=https://archives.snorl.ax/tags/cdn/ rel=tag>CDN</a></footer></article><article id=m><div id=n><section id=comments data-title="Site Migration History" data-isso-id=/drafts/site-migration-history.html></section></div></article></main></div><footer id=g><div id=l>Simputer Archives &#169; 2016 - 2019 (<a href=https://snorl.ax/>Click to view Current Version of Simputer</a>) • Licensed under <a target=_blank rel=license href=http://creativecommons.org/licenses/by/3.0/>CC BY 3.0</a><br>Made using <a href=http://getpelican.com/ target=_blank>Pelican</a> • Design from <a href=https://wordpress.org/themes/twentyfifteen/ target=_blank>TwentyFifteen</a></div></footer><script data-isso=https://isso.snorl.ax/ data-isso-gravatar=true data-isso-avatar=false data-isso-reply-notifications=true data-isso-reply-to-self=true data-isso-css=false src=https://archives.snorl.ax/theme/js/isso_embed.min.js data-isso-lang=en></script>