<!doctype html><html lang=en><title>Make full use of CloudFlare - Terminal In A Simputer Archives</title><meta charset=utf-8><link rel=canonical href=https://archives.snorl.ax/drafts/make-full-use-of-cloudflare.html><link href=https://archives.snorl.ax/theme/css/all.css rel=stylesheet><link rel=dns-prefetch href=https://fonts.googleapis.com><link rel=dns-prefetch href=https://fonts.gstatic.com><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Luckiest+Guy|Rajdhani:600|Rajdhani:700&amp;display=swap"><link href=https://archives.snorl.ax/theme/images/icon.png rel=icon><link href=https://archives.snorl.ax/theme/images/icon-apple.png rel=apple-touch-icon-precomposed><link href=https://archives.snorl.ax/feeds/all.xml rel=alternate title="Simputer Archives RSS Feed" type=application/rss+xml><meta content=Cache name=tags><meta content=CloudFlare name=tags><meta content=html name=tags><meta content=site name=tags><meta content="width=device-width" name=viewport><meta name=twitter:card content=summary><meta name=twitter:image content=https://archives.snorl.ax/theme/images/usual-twitter.png><meta name=twitter:site content=@Snorl_ax><meta name=twitter:title content="Make full use of CloudFlare"><meta name=twitter:description content="CloudFlare is insanely great even in free version! Only recommend their DNS now."><div id=a><header id=c><div id=d><h1 id=e><a href=https://archives.snorl.ax/>Simputer Archives</a></h1></div></header><div id=f><nav id=h><ul><li><a href=https://archives.snorl.ax/>Home</a><li><a href=https://archives.snorl.ax/browser/>Browser</a><li id=i><a href=https://archives.snorl.ax/terminal/>Terminal</a><li><a href=https://archives.snorl.ax/tags/>Tags</a></ul></nav><nav id=r><a href=https://www.youtube.com/channel/UCnqOLMtPJaqa7e_6FhZ8-rw title=Youtube><svg id="youtube"/></a><a href=https://github.com/SnorlaxYum/ title=Github><svg id="github"/></a><a href=https://twitter.com/Snorl_ax title=Twitter><svg id="twitter"/></a><a href=https://archives.snorl.ax/feeds/all.xml title=RSS><svg id="rss"/></a><a href=mailto:sim@snorl.ax title=Email><svg id="mail"/></a></nav><aside id=j><form action=https://archives.snorl.ax/search.html onsubmit="return validateForm(this.elements['q'].value);"><input placeholder=Search... name=q id=tipue_search_input></form></aside></div></div><div id=b><main id=k><article id=m><header id=o><h2 id=p>Make full use of CloudFlare</h2></header><div id=n><p>Before using, u should know that Cloudflare isn't flawless for free, ur site using Cloudflare's CDN on Free Plan or Pro Plan won't be accessible on some old browsers, such as the ones in Windows XP, 'cause the ssl is based on SNI like other CDN. To make ur site on a CDN support all browsers, u'll have to spend a lot more extra money, which is not a must for a personal site.<p>If u made the decision, check my steps, which might meet the needs of ours(I'm supposing we're personal users):<ol><li><p>Save ur money on the things such as VPS if u r only using it for ur personal blog. Try Github Pages (Click on <a href=https://pages.github.com/ target=_blank>ME</a>) or Gitlab Pages (Click on <a href=https://pages.gitlab.io/ target=_blank>ME</a>) instead. The former is faster, the latter is easier to use. Choose one to ur liking. I'm currently using Github pages. However, I suggest people who r not familiar with the Git commands use Gitlab Pages. U should note that both of them r used to serve static resources like html, png, css, js.<li><p>Find the details about the static generators if u haven't decided: Click <a href=https://www.staticgen.com/ target=_blank>Here</a>. It makes the process more automatical.<li><p>Generate and publish.<ol><li><p>On Gitlab pages it could be done automatically by Shared Runners.<li><p>On Github pages u should generate ur site locally and then upload to ur Github repository using Git commands. Check the tutorial of ur chosen generator and do step by step.</ol><li><p>Make sure the DNS of ur domain is powered by Cloudflare.<li><p>Bind the domain to ur site. On Gitlab pages u could use custom SSL for ur domain (Alternative, u could use CloudFlare's Origin CA, check <a href=https://gitlab.com/pages/pages.gitlab.io/issues/29#note_20349421 target=_blank>this</a> step-by-step guide out). On Github pages u could use custom SSL for ur domain too ans the the cert is automatically generated via Let's Encrypt for u.<li><p>(For Gitlab, since Github pages implement Fastly CDN itself.) Turn on CDN on the binded domain.<li><p>(For Gitlab, Recommended if u want ur site served in https version) Turn the SSL option to Full (Full (Strict) if u have valid cert or CloudFlare CA on the domain applied).<li><p>(Recommended) For comments,<ol><li><p>Disqus (Click on <a href=https://disqus.com/ target=_blank>ME</a>) will meet our need and is easy and free to use.<li><p>If u care about security and possess a VPS or server, try isso. I've written a guide (Click on <a href=https://archives.snorl.ax/drafts/start-to-use-isso.html>ME</a>) about it and currently I'm using it.</ol><li><p>Make full use of Page Rules, my Page Rules when I was using Gitlab pages:<div class=highlight><pre><span class=code-line><span></span>1. http://*snorl.ax/*  </span>
<span class=code-line>Forwarding URL: (Status Code: 301 - Permanent Redirect, Url: https://$1snorl.ax/$2)</span>
<span class=code-line></span>
<span class=code-line>2. https://isso.snorl.ax/*  </span>
<span class=code-line>SSL: Strict, Cache Level: Bypass</span>
<span class=code-line></span>
<span class=code-line>3. *snorl.ax/*  </span>
<span class=code-line>Browser Cache TTL: 8 days, Cache Level: Cache Everything, Edge Cache TTL: a month, automatic_https_rewrites: On</span>
</pre></div><p>The first one is about http to https redirects on all domains.<br>The second one is about the SSL option of my comment server.<br>The third one is a must making ur whole site including .html files cached on CloudFlare Edge servers, thus making ur site faster.<li><p>DONE! Enjoy ur personal site! Be sure to "Purge Everything" in the Caching Tab once u update ur site!</ol><p><strong>2019-05-10:</strong> I won't recommend CloudFlare CDN anymore. They will make dynamic contents load slower worldwide (See <a href=https://archives.snorl.ax/drafts/performance-test-on-a-page-cloudflare-vs-bare-nginx.html>this test</a>). As for static site I recommend Firebase Hosting (However I'm not using it anymore since I need to check in every month for their certificate. Regardless of that, it's awesome in terms of speed). I'm now using my two servers as my load balancers. (Here's <a href=https://archives.snorl.ax/drafts/doing-site-mirroring-with-nginx-on-the-same-domain.html>How I did it</a>, site on my own servers also allows access from all the clients) However, CloudFlare DNS is awesome worldwide. I'm only using their DNS now.</div><footer id=q><svg id="publish"/><b>Created:&nbsp;</b><time datetime=2016-05-27T01:40:00+02:00>May 27, 2016</time><span id=y>•</span><svg id="edit"/><b>Updated:&nbsp;</b><time datetime=2019-05-10T12:00:00+02:00>May 10, 2019</time><span id=y>•</span><svg id="session"/></svg>In a <a href=https://archives.snorl.ax/terminal/ rel="category tag"><b>Terminal</b></a> Session<span id=y>•</span><svg id="tags"/><b>Tags:&nbsp;</b><a href=https://archives.snorl.ax/tags/cache/ rel=tag>Cache</a>,&nbsp;<a href=https://archives.snorl.ax/tags/cloudflare/ rel=tag>CloudFlare</a>,&nbsp;<a href=https://archives.snorl.ax/tags/html/ rel=tag>html</a>,&nbsp;<a href=https://archives.snorl.ax/tags/site/ rel=tag>site</a></footer></article><article id=m><div id=n><section id=comments data-title="Make full use of CloudFlare" data-isso-id=/drafts/make-full-use-of-cloudflare.html></section></div></article></main></div><footer id=g><div id=l>Simputer Archives &#169; 2016 - 2019 (<a href=https://snorl.ax/>Click to view Current Version of Simputer</a>) • Licensed under <a target=_blank rel=license href=http://creativecommons.org/licenses/by/3.0/>CC BY 3.0</a><br>Made using <a href=http://getpelican.com/ target=_blank>Pelican</a> • Design from <a href=https://wordpress.org/themes/twentyfifteen/ target=_blank>TwentyFifteen</a></div></footer><script data-isso=https://isso.snorl.ax/ data-isso-gravatar=true data-isso-avatar=false data-isso-reply-notifications=true data-isso-reply-to-self=true data-isso-css=false src=https://archives.snorl.ax/theme/js/isso_embed.min.js data-isso-lang=en></script>