<!doctype html><html lang=en><title>ifup cannot bring up eth1 after upgrading - Terminal In A Simputer Archives</title><meta charset=utf-8><link rel=canonical href=https://archives.snorl.ax/drafts/ifup-cannot-bring-up-eth1-after-upgrading.html><link href=https://archives.snorl.ax/theme/css/all.css rel=stylesheet><link rel=dns-prefetch href=https://fonts.googleapis.com><link rel=dns-prefetch href=https://fonts.gstatic.com><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Luckiest+Guy|Rajdhani:600|Rajdhani:700&amp;display=swap"><link href=https://archives.snorl.ax/theme/images/icon.png rel=icon><link href=https://archives.snorl.ax/theme/images/icon-apple.png rel=apple-touch-icon-precomposed><link href=https://archives.snorl.ax/feeds/all.xml rel=alternate title="Simputer Archives RSS Feed" type=application/rss+xml><meta content=Bandwagonhost name=tags><meta content=Debian name=tags><meta content="width=device-width" name=viewport><meta name=twitter:card content=summary><meta name=twitter:image content=https://archives.snorl.ax/theme/images/usual-twitter.png><meta name=twitter:site content=@Snorl_ax><meta name=twitter:title content="ifup cannot bring up eth1 after upgrading"><meta name=twitter:description content="Happened after I upgraded to Debian Buster on my Bandwagonhost VPS."><div id=a><header id=c><div id=d><h1 id=e><a href=https://archives.snorl.ax/>Simputer Archives</a></h1></div></header><div id=f><nav id=h><ul><li><a href=https://archives.snorl.ax/>Home</a><li><a href=https://archives.snorl.ax/browser/>Browser</a><li id=i><a href=https://archives.snorl.ax/terminal/>Terminal</a><li><a href=https://archives.snorl.ax/tags/>Tags</a></ul></nav><nav id=r><a href=https://www.youtube.com/channel/UCnqOLMtPJaqa7e_6FhZ8-rw title=Youtube><svg id="youtube"/></a><a href=https://github.com/SnorlaxYum/ title=Github><svg id="github"/></a><a href=https://twitter.com/Snorl_ax title=Twitter><svg id="twitter"/></a><a href=https://archives.snorl.ax/feeds/all.xml title=RSS><svg id="rss"/></a><a href=mailto:sim@snorl.ax title=Email><svg id="mail"/></a></nav><aside id=j><form action=https://archives.snorl.ax/search.html onsubmit="return validateForm(this.elements['q'].value);"><input placeholder=Search... name=q id=tipue_search_input></form></aside></div></div><div id=b><main id=k><article id=m><header id=o><h2 id=p>ifup cannot bring up eth1 after upgrading</h2></header><div id=n><p>This happened some hours after I upgraded to Debian Buster on my Bandwagonhost VPS. The IP timed out all over the world. Then I did a research in the root shell. It turned out to be <code>networking.service</code> failure:<div class=highlight><pre><span class=code-line><span></span>ifup[478]: Failed to bring up eth1.</span>
<span class=code-line>systemd[1]: networking.service: Failed with result &#39;exit-code&#39;.</span>
</pre></div><p>Searched and found a solution<sup id=fnref:1><a class=footnote-ref href=#fn:1 rel=footnote>1</a></sup>:<div class=highlight><pre><span class=code-line><span></span># apt install network-manager</span>
<span class=code-line># systemctl enable systemd-networkd</span>
<span class=code-line># systemctl enable systemd-resolved</span>
<span class=code-line># systemctl start systemd-networkd</span>
<span class=code-line># systemctl start systemd-resolved</span>
<span class=code-line># apt install isc-dhcp-client</span>
<span class=code-line># dpkg-reconfigure resolvconf</span>
</pre></div><p>Then the IP worked again, but <code>networking.service</code> still failed with the same error. I searched again and found it related to <code>/etc/network/interfaces</code><sup id=fnref:2><a class=footnote-ref href=#fn:2 rel=footnote>2</a></sup>.<p>My <code>/etc/network/interfaces</code> looked like this:<div class=highlight><pre><span class=code-line><span></span>source /etc/network/interfaces.d/*</span>
<span class=code-line>auto lo</span>
<span class=code-line>iface lo inet loopback</span>
<span class=code-line>auto eth0</span>
<span class=code-line>iface eth0 inet dhcp</span>
<span class=code-line>auto eth1</span>
<span class=code-line>iface eth1 inet dhcp</span>
</pre></div><p>Meanwhile the output of <code>networkctl</code> looked like this:<div class=highlight><pre><span class=code-line><span></span>IDX LINK             TYPE               OPERATIONAL SETUP     </span>
<span class=code-line>  1 lo               loopback           carrier     unmanaged</span>
<span class=code-line>  2 eth0             ether              routable    unmanaged</span>
</pre></div><p>There's nothing to do with so-called eth1, so this is my edited <code>/etc/network/interfaces</code> now:<div class=highlight><pre><span class=code-line><span></span>source /etc/network/interfaces.d/*</span>
<span class=code-line>auto lo</span>
<span class=code-line>iface lo inet loopback</span>
<span class=code-line>auto eth0</span>
<span class=code-line>iface eth0 inet dhcp</span>
<span class=code-line>#auto eth1</span>
<span class=code-line>#iface eth1 inet dhcp</span>
</pre></div><p>The reason why that happened might be due to my selection of using the config file from maintainer's package when I did the upgrade.<div class=footnote><hr><ol><li id=fn:1><p><a href=https://askubuntu.com/a/769239>networking - ifup cannot bring up eth0 after upgrading to 16.04 - Ask Ubuntu</a>&#160;<a class=footnote-backref href=#fnref:1 rev=footnote title="Jump back to footnote 1 in the text">&#8617;</a><li id=fn:2><p><a href=https://askubuntu.com/questions/824376/failed-to-start-raise-network-interfaces-after-upgrading-to-16-04>networking - Failed to start Raise network interfaces after upgrading to 16.04 - Ask Ubuntu</a>&#160;<a class=footnote-backref href=#fnref:2 rev=footnote title="Jump back to footnote 2 in the text">&#8617;</a></ol></div></div><footer id=q><svg id="publish"/><b>Created:&nbsp;</b><time datetime=2019-08-08T22:39:00+02:00>August 08, 2019</time><span id=y>•</span><svg id="session"/></svg>In a <a href=https://archives.snorl.ax/terminal/ rel="category tag"><b>Terminal</b></a> Session<span id=y>•</span><svg id="tags"/><b>Tags:&nbsp;</b><a href=https://archives.snorl.ax/tags/bandwagonhost/ rel=tag>Bandwagonhost</a>,&nbsp;<a href=https://archives.snorl.ax/tags/debian/ rel=tag>Debian</a></footer></article><article id=m><div id=n><section id=comments data-title="ifup cannot bring up eth1 after upgrading" data-isso-id=/drafts/ifup-cannot-bring-up-eth1-after-upgrading.html></section></div></article></main></div><footer id=g><div id=l>Simputer Archives &#169; 2016 - 2019 (<a href=https://snorl.ax/>Click to view Current Version of Simputer</a>) • Licensed under <a target=_blank rel=license href=http://creativecommons.org/licenses/by/3.0/>CC BY 3.0</a><br>Made using <a href=http://getpelican.com/ target=_blank>Pelican</a> • Design from <a href=https://wordpress.org/themes/twentyfifteen/ target=_blank>TwentyFifteen</a></div></footer><script data-isso=https://isso.snorl.ax/ data-isso-gravatar=true data-isso-avatar=false data-isso-reply-notifications=true data-isso-reply-to-self=true data-isso-css=false src=https://archives.snorl.ax/theme/js/isso_embed.min.js data-isso-lang=en></script>